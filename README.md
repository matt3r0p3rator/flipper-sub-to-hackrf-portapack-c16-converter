# Flipper Zero to HackRF File Converter

## Overview
This project provides a tool to convert Flipper Zero `.sub` files into HackRF-compatible `.C16` files. It supports parsing Flipper Zero files, generating HackRF-compatible sine wave IQ sequences, and saving metadata for further analysis.

This tool is heavily inspired by the outstanding work of RocketGod, whose innovative contributions laid the foundation for this project. Special thanks to RocketGod for their expertise and dedication to the field.

## Features
- Converts `.sub` files from Flipper Zero to `.C16` format for HackRF.
- Supports metadata extraction and saves it in human-readable `.TXT` files.
- Graceful handling of errors, including invalid `.sub` files.
- Multithreaded processing for batch file conversion.
- Configurable sampling rates, intermediate frequencies, and amplitude.

## Requirements
- Python 3.6 or higher
- Libraries: `numpy`, `psutil`

## Installation
1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd <repository-folder>
   ```
2. Install the required Python libraries:
   ```bash
   pip install -r requirements.txt
   ```

## Usage
Run the script from the command line with the following arguments:

```bash
python3 sub2c16.py <input_folder> <output_folder> [options]
```

### Arguments
- `input_folder`: Path to the folder containing `.sub` files.
- `output_folder`: Path to the folder where the converted files will be saved.

### Options
- `-sr`, `--sampling_rate`: Sampling rate for the output (default: 500000 Hz).
- `-if`, `--intermediate_freq`: Intermediate frequency in Hz (default: `sampling_rate / 100`).
- `-a`, `--amplitude`: Amplitude as a percentage (default: 100%).
- `-v`, `--verbose`: Enable verbose output.
- `-t`, `--threads`: Maximum number of threads for multithreading (default: 8).

### Example
To convert `.sub` files in the `input` folder to `.C16` format in the `output` folder:

I usually just use
```bash
python3 sub2c16.py <input_folder> <output_folder> -v -t 32
```
For me 32 threads seems pretty light so scale with your machine, but be careful, it has crashed windows a few times with higher values.
## How It Works
1. **Parsing `.sub` Files**: The tool reads and parses `.sub` files to extract metadata and signal duration chunks.
2. **Signal Processing**: Converts durations into IQ sine wave sequences based on user-specified sampling rate and frequency.
3. **File Conversion**: Writes the converted IQ data to `.C16` files and metadata to `.TXT` files.
4. **Multithreading**: Uses a thread pool to process multiple files simultaneously, improving performance.
5. **Graceful Shutdown**: Handles `Ctrl+C` (SIGINT) gracefully, allowing for a controlled shutdown.

## Error Handling
- If a `.sub` file cannot be parsed, it is copied to the output directory as is, with a prefixed `!`.
- Errors during file conversion are logged without interrupting the process.

## Notes
- Supported protocols: `RAW`.
- Ensure that input `.sub` files follow the correct format.

## Contributing
Contributions are welcome! Feel free to submit issues or pull requests to improve functionality.

## License
This project is licensed under the MIT License. See `LICENSE` for more details.

## Notes
This README was generated by chatgpt so there might be some wierd stuff, and lots of the code was too.
